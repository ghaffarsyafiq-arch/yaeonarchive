<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ranking Blok 1.1 - Aurora Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Poppins', sans-serif; 
            min-height: 100vh;
            color: #e2e8f0;
            overflow-x: hidden;
        }

        /* AURORA BOREALIS MESH BACKGROUND */
        .mesh-background {
            background-color: #020617; /* Dark Night Sky */
            background-image: 
                radial-gradient(at 0% 0%, rgba(52, 211, 153, 0.25) 0px, transparent 50%),   /* Emerald Green */
                radial-gradient(at 100% 0%, rgba(139, 92, 246, 0.3) 0px, transparent 50%),   /* Violet */
                radial-gradient(at 100% 100%, rgba(6, 182, 212, 0.25) 0px, transparent 50%), /* Cyan */
                radial-gradient(at 0% 100%, rgba(45, 212, 191, 0.2) 0px, transparent 50%),   /* Teal */
                radial-gradient(at 50% 50%, rgba(2, 6, 23, 0.8) 0px, transparent 60%);     /* Deep Center */
            background-attachment: fixed;
            background-size: cover;
        }

        /* GLASS CARD STYLING - Aurora Tint */
        .glass-card {
            background: rgba(15, 23, 42, 0.3); /* Darker base for contrast */
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(148, 163, 184, 0.1);
            border-top: 1px solid rgba(148, 163, 184, 0.2); /* Slight top highlight */
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.4);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
        }

        .glass-card:hover {
            transform: translateY(-5px) scale(1.02);
            background: rgba(30, 41, 59, 0.5);
            border-color: rgba(56, 189, 248, 0.3); /* Cyan Glow on hover */
            box-shadow: 0 0 20px rgba(56, 189, 248, 0.15); /* Aurora Glow */
        }

        /* PODIUM ANIMATION & STYLES */
        .podium-base {
            position: relative;
            overflow: hidden;
        }
        /* Rank 1: Gold with Green Aurora Glow */
        .podium-1 { 
            margin-bottom: 2.5rem; 
            z-index: 10; 
            border: 1px solid rgba(250, 204, 21, 0.3);
            background: linear-gradient(180deg, rgba(250, 204, 21, 0.05) 0%, rgba(16, 185, 129, 0.1) 100%);
            box-shadow: 0 0 30px rgba(16, 185, 129, 0.2);
        }
        /* Rank 2: Silver with Blue Aurora Glow */
        .podium-2 { 
            margin-bottom: -1rem; 
            z-index: 5; 
            border: 1px solid rgba(226, 232, 240, 0.3);
            background: linear-gradient(180deg, rgba(226, 232, 240, 0.05) 0%, rgba(56, 189, 248, 0.1) 100%);
        }
        /* Rank 3: Bronze with Purple Aurora Glow */
        .podium-3 { 
            margin-bottom: -3rem; 
            z-index: 1; 
            border: 1px solid rgba(251, 146, 60, 0.3);
            background: linear-gradient(180deg, rgba(251, 146, 60, 0.05) 0%, rgba(139, 92, 246, 0.1) 100%);
        }
        
        @media (max-width: 768px) {
            .podium-1, .podium-2, .podium-3 { margin-bottom: 1rem; }
        }

        /* BADGES - Updated Colors */
        .badge-title { font-size: 0.65rem; letter-spacing: 0.05em; text-transform: uppercase; font-weight: 700; padding: 0.25rem 0.6rem; border-radius: 9999px; border: 1px solid; display: inline-flex; align-items: center; gap: 0.25rem; }
        
        .bg-apex { background: rgba(52, 211, 153, 0.15); color: #6ee7b7; border-color: rgba(52, 211, 153, 0.4); text-shadow: 0 0 10px rgba(52, 211, 153, 0.5); } /* Emerald Green Neon */
        .bg-ace { background: rgba(139, 92, 246, 0.15); color: #c4b5fd; border-color: rgba(139, 92, 246, 0.4); } /* Violet */
        .bg-genius { background: rgba(6, 182, 212, 0.15); color: #67e8f9; border-color: rgba(6, 182, 212, 0.4); } /* Cyan */
        .bg-smart { background: rgba(99, 102, 241, 0.15); color: #a5b4fc; border-color: rgba(99, 102, 241, 0.4); } /* Indigo */

        /* MODAL */
        #modal.show { opacity: 1; pointer-events: auto; }
        #modal-content { transform: scale(0.95); transition: transform 0.3s ease; }
        #modal.show #modal-content { transform: scale(1); }
        
        /* Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #020617; }
        ::-webkit-scrollbar-thumb { background: #1e293b; border-radius: 4px; border: 1px solid #334155; }
        ::-webkit-scrollbar-thumb:hover { background: #334155; }
    </style>
</head>
<body class="mesh-background text-slate-100">

    <!-- Header -->
    <header class="sticky top-0 z-40 backdrop-blur-xl bg-[#020617]/50 border-b border-white/5 shadow-2xl">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex flex-col md:flex-row justify-between items-center gap-4">
            <div class="flex items-center space-x-4">
                <!-- Icon with Aurora Gradient -->
                <div class="p-2.5 bg-gradient-to-br from-emerald-500 to-cyan-600 rounded-xl shadow-lg shadow-cyan-900/30 ring-1 ring-white/10">
                    <i class="fa-solid fa-graduation-cap text-2xl text-white"></i>
                </div>
                <div>
                    <!-- Title Gradient -->
                    <h1 class="text-2xl font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-emerald-200 via-cyan-200 to-violet-200">Blok 1.1: Belajar & Profesionalisme</h1>
                    <p class="text-xs text-cyan-400/80 font-medium tracking-wide uppercase">Leaderboard Angkatan 2025/2026</p>
                </div>
            </div>
            
            <!-- Search Bar -->
            <div class="relative w-full md:w-80 group">
                <input type="text" id="searchInput" class="w-full bg-slate-900/50 border border-slate-700/50 rounded-full py-2.5 pl-10 pr-4 text-sm text-cyan-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500/50 transition-all group-hover:bg-slate-800/50" placeholder="Cari Nama, NIM...">
                <i class="fa-solid fa-search absolute left-3.5 top-3 text-slate-500 group-hover:text-cyan-400 transition-colors"></i>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 space-y-16">

        <!-- PODIUM SECTION (The Big Three) -->
        <section id="podium-container" class="relative pt-10">
            <!-- Injected by JS -->
        </section>

        <!-- STATS & LEGEND -->
        <section class="grid grid-cols-1 md:grid-cols-4 gap-4">
            <div class="glass-card p-4 rounded-xl flex items-center justify-between">
                <div>
                    <p class="text-[10px] text-cyan-200/60 uppercase tracking-wider">Total Students</p>
                    <p class="text-2xl font-bold text-white" id="stat-total">171</p>
                </div>
                <div class="h-10 w-10 rounded-full bg-cyan-500/10 border border-cyan-500/20 flex items-center justify-center text-cyan-400"><i class="fa-solid fa-users"></i></div>
            </div>
            <div class="glass-card p-4 rounded-xl flex items-center justify-between">
                <div>
                    <p class="text-[10px] text-emerald-200/60 uppercase tracking-wider">Highest Score</p>
                    <p class="text-2xl font-bold text-emerald-400" id="stat-highest">00.00</p>
                </div>
                <div class="h-10 w-10 rounded-full bg-emerald-500/10 border border-emerald-500/20 flex items-center justify-center text-emerald-400"><i class="fa-solid fa-trophy"></i></div>
            </div>
            <div class="glass-card p-4 rounded-xl flex items-center justify-between">
                <div>
                    <p class="text-[10px] text-violet-200/60 uppercase tracking-wider">Avg Score</p>
                    <p class="text-2xl font-bold text-violet-400" id="stat-avg">00.00</p>
                </div>
                <div class="h-10 w-10 rounded-full bg-violet-500/10 border border-violet-500/20 flex items-center justify-center text-violet-400"><i class="fa-solid fa-chart-line"></i></div>
            </div>
            <div class="glass-card p-4 rounded-xl flex flex-col justify-center">
                <p class="text-[10px] text-slate-400 uppercase mb-2 tracking-wider">Badge Legend</p>
                <div class="flex gap-2 text-[10px] flex-wrap">
                    <span class="bg-apex px-2 py-1 rounded">Apex</span>
                    <span class="bg-ace px-2 py-1 rounded">Communicator</span>
                    <span class="bg-genius px-2 py-1 rounded">Writer</span>
                </div>
            </div>
        </section>

        <!-- MAIN GRID (The Rest) -->
        <section>
            <div class="flex justify-between items-end mb-6 border-b border-white/5 pb-2">
                <h2 class="text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-300 to-emerald-300 flex items-center">
                    <i class="fa-solid fa-list-ul mr-3 text-cyan-500"></i> All Ranks
                </h2>
                <span class="text-xs text-slate-500 italic">Data Update: Blok 1.1 Final</span>
            </div>
            
            <div id="student-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                <!-- Cards Injected Here -->
            </div>
            
            <!-- Not Found State -->
            <div id="not-found" class="hidden text-center py-20">
                <i class="fa-solid fa-wind text-4xl text-slate-600 mb-4 animate-pulse"></i>
                <p class="text-slate-500">The aurora shows nothing...</p>
            </div>
        </section>

    </main>

    <!-- MODAL -->
    <div id="modal" class="fixed inset-0 bg-[#020617]/90 backdrop-blur-md z-50 flex items-center justify-center p-4 opacity-0 pointer-events-none transition-opacity duration-300">
        <div id="modal-content" class="bg-[#0f172a] w-full max-w-4xl rounded-2xl border border-cyan-500/20 shadow-2xl shadow-cyan-900/20 overflow-hidden flex flex-col md:flex-row relative">
            <button onclick="closeModal()" class="absolute top-4 right-4 text-slate-400 hover:text-white z-10 hover:rotate-90 transition-transform">
                <i class="fa-solid fa-times text-2xl"></i>
            </button>
            
            <!-- Left Side: Info -->
            <div class="w-full md:w-2/5 p-8 bg-gradient-to-br from-[#020617] to-[#0f172a] border-r border-white/5 flex flex-col justify-center relative overflow-hidden">
                <!-- Decorative Glow -->
                <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-500 via-cyan-500 to-violet-500"></div>
                
                <div id="modal-rank-badge" class="inline-block px-3 py-1 rounded-full bg-cyan-900/30 text-cyan-300 text-xs font-bold mb-4 w-max border border-cyan-500/30 shadow-[0_0_10px_rgba(34,211,238,0.2)]">
                    RANK #1
                </div>
                <h2 id="modal-name" class="text-2xl font-bold text-white mb-1 leading-tight tracking-tight">Name Here</h2>
                <p id="modal-nim" class="text-sm text-cyan-600/80 font-mono mb-6">NIM</p>
                
                <div class="grid grid-cols-2 gap-4 mb-6">
                    <div class="bg-slate-800/50 p-3 rounded-lg text-center border border-white/5">
                        <span class="text-[10px] text-slate-400 uppercase block">Total Nilai</span>
                        <span id="modal-na" class="text-2xl font-bold text-white">00.00</span>
                    </div>
                    <div class="bg-slate-800/50 p-3 rounded-lg text-center border border-white/5">
                        <span class="text-[10px] text-slate-400 uppercase block">Grade Est.</span>
                        <span id="modal-grade" class="text-2xl font-bold text-emerald-400">A</span>
                    </div>
                </div>

                <div id="modal-titles" class="flex flex-wrap gap-2">
                    <!-- Titles injected here -->
                </div>
            </div>

            <!-- Right Side: Chart -->
            <div class="w-full md:w-3/5 p-6 bg-[#0f172a] flex flex-col items-center justify-center relative">
                <h3 class="text-xs font-bold text-slate-500 mb-4 uppercase tracking-[0.2em]">Komponen Blok 1.1</h3>
                <div class="w-full h-64 md:h-80 relative">
                    <canvas id="spiderwebChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- 1. DATA MASTER ---
        
        // Map Nama (Diambil dari data sebelumnya karena NIM konsisten)
        const nameMap = {
            "G1A025001": "MUSTIKA ZHAFARINA", "G1A025002": "ANINDITA RAHMAZYANTI", "G1A025003": "RONALD JASON NOVIANTO", "G1A025004": "WANDA WIDYASWARA", "G1A025005": "NATASYA PUTRI AZALIA", "G1A025006": "ALIF MUHAMMAD SATRIAS", "G1A025007": "ANGGUN SEKAR AMALIA", "G1A025008": "MUHAMMAD RIZKI MAULANA", "G1A025009": "IVANA WIDYA PARAMITA", "G1A025010": "MIFTAKHUL RIZKY ALWI ZAKARIA", "G1A025011": "RIFA AFRIANTI PRIMANTO", "G1A025012": "ARZETA HAFIFATUZZAHROH", "G1A025013": "ALYSA ILMI AULIA", "G1A025014": "NURUL UZMA ARIFINIANTI", "G1A025015": "NASHWA RIHADATUL 'AISY", "G1A025016": "HAIBA ZAHWA ADNINDYA ZIEN", "G1A025017": "ARKAAN ARRASYID S", "G1A025018": "ANDHIKA NUR HAKIM", "G1A025019": "ILHAM RAMADHAN TAUFIQ", "G1A025020": "SYIFA AULIA WIDIANA", "G1A025021": "NAYRAH BARIZKY RITONGA", "G1A025022": "NATASYA AURA PUTRI AHMAD", "G1A025023": "LUTHFI FADHILAH FATURAHMAN", "G1A025024": "NABILA QURROTA A'INI", "G1A025025": "LOVINA DINA KAMILA", "G1A025026": "AVELIKA LADYSA SHANETIN", "G1A025027": "SHARFINA AURIZMA TITANIA WARDANI", "G1A025028": "RAFI HAZZA SAPUTRA", "G1A025029": "FATWA DINATA", "G1A025030": "REZA HARUN", "G1A025031": "AZKIYA HUSNABILA", "G1A025032": "DAVINA NATTAYA KOMARA", "G1A025033": "MARIA CATHLEEN LIEM", "G1A025034": "AYU WULAN PUTRIANA", "G1A025035": "KEISYA BEAUTY STANZA", "G1A025036": "MU'AFA NAZHMIR ROBBANI", "G1A025037": "ZAWA HASNA' ZAHIDAH", "G1A025038": "ANWA FATHIMA BIDZIKRI", "G1A025039": "MYCHA NAZILA SYAKIROH", "G1A025040": "MUHAMMAD RAFI' NAUFAREL", "G1A025041": "BATRISYIA ATHA RINDRA JAFNI", "G1A025042": "NAILA FIRDAUZI HARYADINA PUTRI", "G1A025043": "ASIYAH", "G1A025044": "KHANSA JAHFALATHA BALQIS", "G1A025045": "NASYWA AMANIA HIDAYAT", "G1A025046": "MONICA SANCI KONDAWE", "G1A025047": "MUHAMMAD ALRIZA NASUTION", "G1A025048": "HANIFA", "G1A025049": "RIFQAH ZULFA AFANIN", "G1A025050": "MUHAMMAD NAUVAL PANJI AL HAKIM", "G1A025051": "AMIRA BALQIS ASSABA", "G1A025052": "CLAIRINE ZERLINA HANIFAH", "G1A025053": "CHRISTIAN PRAJADI", "G1A025054": "ALFI NISA DAMAYANTI", "G1A025055": "VANISSA FATHIAH ARDANI", "G1A025056": "SIGIT PRAMBUDI DIENTI", "G1A025057": "MUHAMMAD UZAIR ABDILLAH", "G1A025059": "MAYCO CAHYA TRI ADINANSYAH", "G1A025060": "NADIA CHERYL", "G1A025061": "NADIA CHAIRUNNISA OLIA PUTRI", "G1A025062": "LOKANANTA ARKIE AMSAL", "G1A025063": "M.DANAR RAMADHAN TARUNA", "G1A025064": "RAZITA KHAIRINA PRASAJA MARPAUNG", "G1A025065": "IRSYAD WAHYU MUHARROM", "G1A025066": "INGRID GAYATRI", "G1A025067": "FADHILAH AZKA AFKARINA", "G1A025068": "GABRIEL DANENDRA SETYAWAN", "G1A025069": "AMILAH AMATURRAHIM AL MUJAHIDAH", "G1A025070": "FARID HAMZAH PUTRA PRATAMA", "G1A025071": "JAMES SUDIANTO RACHMAPUTRA", "G1A025072": "KHAIRUNNISA AZKA FADILA", "G1A025073": "ISYRAFUDDIN ABDUN YASYKUR", "G1A025074": "TSALITSA AFIFAH NIDAUL HAQ", "G1A025075": "AISYAH NUR AZIZAH", "G1A025076": "WAHYUDI", "G1A025077": "KAUTSAR PANDYA RAHADYAN", "G1A025078": "CHRISTIAN ALLAN", "G1A025079": "I DEWA AYU MADE SHINTA ANGELINA", "G1A025080": "DZAKI AMRU SYAFI", "G1A025081": "NAURA PUTRI ALEXANDRIA", "G1A025082": "ARKAN FAWWAZ INDARJO", "G1A025083": "GHANIA NAILA NOOR DZAKIYYAH", "G1A025084": "ANINDYA SAFIRA RIYANTO", "G1A025086": "UTHI FIDELA SALWA", "G1A025087": "AUFADHIYA KHAIRANI PUTRI", "G1A025088": "HANUM PRIMANDA KHAIRUNNISA", "G1A025089": "IKA WIDIASTUTI", "G1A025091": "CLAUDIA ZAR'IN PUTRI JASMINE", "G1A025092": "SIXTEENOVA ARINI RAHMATIKA", "G1A025093": "AMEERA JASMINE ZAIN", "G1A025094": "NADYANDRA ARETHA MAIRITZA", "G1A025095": "NADINE PRAMESTHA ARDHANI", "G1A025096": "AMELIA AZZAHRA", "G1A025097": "RIFAT PRAMUDIA NASUTION", "G1A025098": "JAHFAL AL FARISI", "G1A025099": "ISTAVANIA NADIA MUFID", "G1A025100": "RISTY PUTERI KUSUMA MAHARDIKANINGSIH", "G1A025101": "CHELSEA ICHA PUTRI ANZANI", "G1A025102": "DZAKWAN HAMMAM NAWAWI", "G1A025103": "YAZMINE", "G1A025104": "MAULIDIA ZULFA KARTIKA", "G1A025105": "SAVANA RIZKY PURNAMA", "G1A025106": "YASMIN TAQIYAH TAMBUNAN", "G1A025107": "NACHAYA AROFAHNI WIJAYA", "G1A025108": "FRIDA MULIADEWI CHAERANI", "G1A025109": "GHANIY HILDAN RABBANI", "G1A025110": "ALTAF FIAN JUNINDA", "G1A025111": "FADELLA AZZAHRA", "G1A025112": "HANINDITA NASTITI AYUNINGTIAS", "G1A025113": "TYANAYA RAHMA", "G1A025114": "CHINTYA PUTRI NABILAH", "G1A025115": "AISYA NURLANGIT FITRI", "G1A025116": "AVISA ZANDRA CITAGAMI", "G1A025117": "FIQYA SULISTIANI", "G1A025118": "RAHMA GRISELDA INDRASTATA", "G1A025119": "KHESYIA NAFIA ATMOKO", "G1A025120": "QAFFAL ZIAN QADSI", "G1A025121": "AMIRA AZALIA", "G1A025122": "MUHAMMAD RASYID SURYA WICAKSONO", "G1A025123": "NAURA ALYA FASHIHA", "G1A025124": "BUNGA PUTRI ANGGINA", "G1A025125": "M. ANDHIKA PUTRA PRATAMA", "G1A025126": "HANENDI FAREL SANTAUSO", "G1A025127": "JOVITA BERNADINE AZALIA DWIASTHI", "G1A025128": "RAISHA AQILA ARDANU", "G1A025129": "NAZLA RIFDA AQILLAH", "G1A025130": "SYAFIQ ATAULLAH GHAFFAR", "G1A025131": "ZIDAN ADI HENDRIK TRI PUTRA", "G1A025132": "FADHEL MUHAMMAD AIHAM", "G1A025133": "AISYAH LOVIA ZAHRA ROCHMANA", "G1A025134": "BAGAS ARIEF SETYA WARDANA", "G1A025135": "KHAMIDYA SAFIRA", "G1A025136": "RIKO RAHARDIAN PUTRA WARDANA", "G1A025138": "TITEN WIGUNA", "G1A025139": "FANISA MAULIDA RAHARJA", "G1A025140": "DWINANDA FITRIANA PUTRI", "G1A025141": "BERMASAUT ADIPUTRA TAMPUBOLON", "G1A025142": "ZASKIA YUFLIHA ALYA NISA", "G1A025143": "SYAHRU SYABANA SETIYANTO", "G1A025144": "NISRINA ATIRA AFLAH GUNNARTO", "G1A025145": "HASAN TRI GUNAWAN", "G1A025146": "NADHIRA YUSTRINA", "G1A025147": "WAHYU CAN ARUM PUTRI RAMBIATI", "G1A025148": "ARSELAN RIZQY DARMAWAN", "G1A025149": "NARDIIN FATHIYYAH SUNYOTO", "G1A025150": "AQBIL REZKY BUNAYYA", "G1A025151": "MUHAMMAD THORIQ AL ROSYID", "G1A025152": "RAFI DINAN AL FARISI", "G1A025153": "MUHAMMAD FARRELL ARCHARD ZHAFIF SUCIPTO", "G1A025154": "JOSEPHINE MELYNA EVANY ESTAFANA", "G1A025155": "GAFIN AULIA RAHARJO", "G1A025156": "CLEARY SHAYNA HANIN", "G1A025157": "RAZZA RASENDRIYA NANDANA ARDI", "G1A025159": "KEYSHA FAUSTA ZAINI", "G1A025160": "NADIYA BINTANG RAZIA NIKO", "G1A025161": "MOH. ILHAM ARDIATSYAH", "G1A025163": "ASTRELLA AIMEE KHOIRUNNISA", "G1A025164": "ATHIFATUL JANNAH", "G1A025165": "MUHAMMAD SYAFIEQ ADZKA", "G1A025166": "SYIFA NURJANAH", "G1A025167": "DIMAS ZAHRAN HERDYASSAGAF", "G1A025168": "FARREL MOZA DHIYAUL HAQ", "G1A025169": "REECHARD BURHANUDIN FUADY", "G1A025170": "ADDINI FATMA ARINI", "G1A025171": "HANIN NAURA FARIHA", "G1A025172": "AHMAD ABDUL HAQQI", "G1A025174": "AHMAD MUQORROBIN", "G1A025175": "AKBAR BAGUS SRI ZENA", "G1A025176": "RAFID NAUFAL NURIMANUZAKI"
        };

        // 2. Data Komponen (Format: NIM, MCQ, Artikel, Komunikasi, Project, Sikap, Refleksi, Total)
        // Data ini diekstrak dari PDF "Penilaian Blok 1.1"
        const rawComponentData = `
        G1A025001,56.00,78.75,83.13,92.42,80.89,90.00,73.49
        G1A025002,69.30,84.58,83.13,88.75,82.00,97.00,79.65
        G1A025003,62.70,87.08,85.63,86.80,82.42,82.00,76.64
        G1A025004,68.00,85.83,91.25,86.56,80.73,94.00,79.54
        G1A025005,56.00,87.08,95.00,80.81,78.00,75.00,73.13
        G1A025006,78.00,76.25,80.63,83.44,80.28,89.00,79.66
        G1A025007,58.00,78.33,86.25,95.47,81.17,82.00,74.74
        G1A025008,63.35,81.67,86.25,94.95,76.06,74.00,76.79
        G1A025009,70.70,88.33,91.88,88.75,80.03,95.00,81.64
        G1A025010,72.70,85.00,91.88,96.30,79.06,82.00,82.58
        G1A025011,58.70,83.33,83.13,93.67,85.11,90.00,75.95
        G1A025012,70.65,78.75,88.75,83.47,80.28,86.00,77.89
        G1A025013,84.65,87.50,91.25,90.63,85.03,89.00,87.31
        G1A025014,78.00,85.00,88.75,90.55,85.69,86.00,83.77
        G1A025015,74.65,78.33,80.63,95.27,80.89,92.00,81.29
        G1A025016,80.70,87.08,94.38,92.03,85.89,92.00,86.43
        G1A025017,77.35,87.08,88.75,81.80,76.00,68.00,80.79
        G1A025018,67.35,88.33,80.00,88.44,80.75,88.00,78.73
        G1A025019,44.00,83.75,77.50,85.64,78.91,70.00,66.67
        G1A025020,65.30,82.92,100.00,85.94,78.00,82.00,77.89
        G1A025021,60.00,85.83,86.25,94.06,81.25,90.00,77.17
        G1A025022,62.00,81.25,88.75,96.65,71.14,75.00,76.56
        G1A025023,64.00,82.92,88.75,97.27,83.67,97.00,79.54
        G1A025024,56.00,85.00,83.75,83.07,78.33,85.00,72.56
        G1A025025,85.35,87.08,83.13,89.92,82.75,76.00,85.79
        G1A025026,68.00,80.83,83.13,94.69,79.28,85.00,78.83
        G1A025027,68.70,87.08,88.75,90.86,84.14,91.00,80.70
        G1A025028,75.30,81.67,94.38,86.48,80.47,89.00,81.66
        G1A025029,81.35,88.33,84.38,85.02,85.64,85.00,84.18
        G1A025030,56.00,81.67,85.00,88.75,81.75,85.00,73.32
        G1A025031,80.65,87.08,94.38,90.86,75.69,91.00,85.62
        G1A025032,63.35,86.25,94.38,85.24,80.00,83.00,77.23
        G1A025033,66.00,85.00,91.25,97.00,79.14,76.00,79.68
        G1A025034,56.00,74.17,83.13,79.56,78.14,80.00,69.36
        G1A025035,74.00,85.00,91.88,97.77,83.67,97.00,84.37
        G1A025036,56.00,77.08,77.50,82.93,84.61,84.00,70.58
        G1A025037,64.65,76.67,80.63,82.34,79.86,83.00,73.87
        G1A025038,58.70,87.08,85.63,79.96,78.00,72.00,72.95
        G1A025039,59.30,80.42,86.25,95.21,80.92,82.00,75.62
        G1A025040,70.65,78.75,78.13,94.45,79.22,84.00,78.87
        G1A025041,67.35,82.50,96.88,92.58,82.75,86.00,80.08
        G1A025042,74.70,81.67,86.25,95.30,81.47,86.00,82.27
        G1A025043,54.00,85.42,88.75,90.08,80.36,78.00,73.49
        G1A025044,62.00,82.92,100.00,85.08,74.89,85.00,76.39
        G1A025045,83.35,78.33,83.13,96.05,80.61,84.00,84.76
        G1A025046,56.00,82.92,83.13,83.83,79.44,77.00,71.88
        G1A025047,59.35,84.58,88.75,84.69,80.42,90.00,74.99
        G1A025048,69.35,78.33,83.13,95.03,79.33,83.00,78.84
        G1A025049,69.35,83.75,95.00,97.20,83.67,95.00,82.36
        G1A025050,46.00,78.33,83.13,92.60,76.31,80.00,68.72
        G1A025051,69.30,91.67,96.88,90.63,84.50,90.00,82.59
        G1A025052,75.35,77.92,88.75,86.23,84.17,86.00,80.35
        G1A025053,62.00,80.42,88.75,93.05,83.44,85.00,76.79
        G1A025054,77.35,84.17,100.00,97.89,79.22,82.00,85.41
        G1A025055,68.00,89.58,95.00,97.70,83.67,97.00,83.19
        G1A025056,71.35,87.08,94.38,80.24,78.00,70.00,78.84
        G1A025057,71.30,74.58,74.38,84.67,83.14,87.00,76.32
        G1A025059,70.65,87.08,88.75,88.34,84.08,85.00,80.67
        G1A025060,72.65,87.08,97.50,97.84,83.67,97.00,84.83
        G1A025061,76.70,89.58,96.88,94.22,85.25,85.00,85.64
        G1A025062,73.30,89.58,93.75,88.75,79.81,90.00,82.85
        G1A025063,68.70,86.25,89.38,83.44,78.00,78.00,78.16
        G1A025064,78.00,90.42,88.75,94.14,83.58,85.00,85.42
        G1A025065,78.65,79.58,78.13,95.54,81.33,87.00,82.71
        G1A025066,57.35,81.67,88.75,96.22,79.08,75.00,75.10
        G1A025067,71.30,75.83,86.25,85.10,84.14,88.00,77.94
        G1A025068,84.00,86.25,88.75,90.55,83.64,86.00,86.32
        G1A025069,69.35,87.08,88.75,80.38,76.00,67.00,77.26
        G1A025070,56.00,84.58,75.63,87.34,82.75,82.00,72.59
        G1A025071,77.30,80.00,84.38,94.22,82.28,77.00,82.17
        G1A025072,76.65,83.33,80.63,88.13,82.03,90.00,81.62
        G1A025073,68.00,77.50,80.63,81.41,74.14,82.00,74.85
        G1A025074,66.00,91.67,86.25,88.75,81.81,90.00,79.70
        G1A025075,58.70,80.83,94.38,93.91,83.81,82.00,76.16
        G1A025076,68.00,78.33,86.25,93.73,73.31,86.00,78.20
        G1A025077,70.70,77.50,71.88,92.52,72.86,61.00,76.16
        G1A025078,77.30,78.33,88.75,95.47,80.61,77.00,82.44
        G1A025079,73.35,79.58,88.75,94.26,81.28,84.00,81.25
        G1A025080,76.65,87.08,91.25,91.33,84.25,82.00,83.78
        G1A025081,70.70,88.33,81.25,92.50,80.75,81.00,80.66
        G1A025082,70.00,85.00,88.75,95.61,78.94,74.00,80.64
        G1A025083,68.65,80.83,97.50,92.58,80.75,81.00,79.98
        G1A025084,75.35,88.33,91.88,90.47,80.50,82.00,83.21
        G1A025086,66.00,89.58,88.75,85.00,80.00,85.00,78.44
        G1A025087,65.35,81.67,86.25,87.34,74.66,87.00,76.65
        G1A025088,75.35,90.42,94.38,88.75,82.03,95.00,84.26
        G1A025089,77.30,89.58,95.00,94.57,79.08,64.00,84.40
        G1A025091,84.70,82.92,95.00,90.23,84.36,78.00,86.13
        G1A025092,77.35,93.75,100.00,91.33,83.50,89.00,86.58
        G1A025093,76.70,76.67,83.13,93.13,80.94,85.00,81.25
        G1A025094,66.65,82.92,96.88,85.94,80.33,81.00,78.19
        G1A025095,76.00,84.17,95.00,92.27,80.75,82.00,83.32
        G1A025096,70.00,82.92,97.50,97.49,83.67,91.00,82.56
        G1A025097,66.00,88.33,94.38,95.64,81.86,95.00,81.48
        G1A025098,64.00,87.08,86.25,87.10,78.61,89.00,77.44
        G1A025099,70.70,77.08,83.75,84.41,82.86,84.00,77.30
        G1A025100,77.35,84.17,88.75,95.47,82.36,84.00,84.06
        G1A025101,56.00,87.08,91.25,81.09,78.00,72.00,72.66
        G1A025102,78.70,87.50,91.25,93.20,78.81,84.00,84.89
        G1A025103,68.70,93.75,95.00,91.09,83.50,91.00,82.67
        G1A025104,80.70,86.25,94.38,95.47,83.19,87.00,86.57
        G1A025105,76.65,79.58,75.63,83.28,80.14,84.00,79.00
        G1A025106,75.35,83.75,88.75,86.58,85.44,89.00,81.80
        G1A025107,59.35,82.92,88.75,84.45,79.72,82.00,74.18
        G1A025108,72.00,80.42,83.13,95.47,80.06,78.00,80.19
        G1A025109,69.35,83.75,85.63,84.41,82.94,86.00,78.38
        G1A025110,70.00,89.58,92.50,90.31,82.97,85.00,81.63
        G1A025111,68.00,82.92,94.38,83.75,78.33,80.00,77.89
        G1A025112,68.65,93.75,92.92,84.69,80.69,83.00,80.62
        G1A025113,68.00,93.75,100.00,82.27,76.00,75.00,79.95
        G1A025114,70.00,83.13,89.17,81.25,80.14,85.00,78.05
        G1A025115,70.00,83.75,88.75,95.47,76.72,87.00,80.90
        G1A025116,66.70,88.33,86.25,95.66,80.06,80.00,80.11
        G1A025117,56.00,82.92,83.13,96.28,79.58,74.00,74.23
        G1A025118,69.30,84.17,97.50,97.00,78.81,73.00,81.29
        G1A025119,59.30,93.75,93.75,84.61,78.61,85.00,76.95
        G1A025120,62.70,82.08,86.25,96.30,79.14,74.00,77.04
        G1A025121,60.00,87.08,94.38,88.75,82.03,95.00,77.46
        G1A025122,50.65,62.92,66.00,90.06,76.16,80.00,65.26
        G1A025123,70.00,88.33,82.50,95.38,76.06,79.00,80.75
        G1A025124,60.65,93.75,87.08,93.05,79.11,86.00,78.58
        G1A025125,74.00,82.92,83.13,86.24,80.00,79.00,79.69
        G1A025126,58.00,84.17,80.63,96.99,82.53,95.00,76.37
        G1A025127,56.00,84.58,88.13,84.15,83.67,85.00,73.39
        G1A025128,62.00,86.25,81.67,93.69,76.89,84.00,77.00
        G1A025129,62.00,77.92,100.00,96.13,79.08,71.00,77.11
        G1A025130,56.00,93.75,88.75,79.67,72.00,67.00,72.91
        G1A025131,72.70,87.50,91.67,84.96,76.56,84.00,80.77
        G1A025132,56.00,80.83,86.25,94.25,82.44,80.00,74.16
        G1A025133,72.00,93.75,100.00,81.52,78.00,68.00,81.15
        G1A025134,64.65,79.17,80.63,89.77,66.44,72.00,74.63
        G1A025135,72.00,84.17,76.88,97.49,80.92,97.00,81.71
        G1A025136,60.65,81.67,91.88,88.75,79.78,95.00,76.27
        G1A025138,60.00,89.58,100.00,95.95,75.06,71.00,78.41
        G1A025139,68.65,93.75,100.00,80.81,78.00,75.00,80.02
        G1A025140,58.65,85.42,87.50,88.05,79.22,84.00,75.06
        G1A025141,56.00,81.67,78.13,97.06,83.11,97.00,74.96
        G1A025142,66.65,82.92,91.88,86.33,78.46,90.00,78.12
        G1A025143,76.00,85.83,91.88,83.28,87.81,87.00,82.15
        G1A025144,56.00,89.58,93.75,91.51,83.42,91.00,76.71
        G1A025145,79.30,82.92,82.50,91.94,83.89,89.00,83.59
        G1A025146,65.30,89.38,93.33,82.81,80.00,82.00,77.99
        G1A025147,69.35,81.67,94.38,95.18,80.06,80.00,80.55
        G1A025148,71.35,85.83,83.13,94.77,79.22,70.00,80.44
        G1A025149,67.35,93.75,77.50,95.18,81.44,90.00,81.05
        G1A025150,56.00,83.75,86.25,86.48,80.00,63.00,72.22
        G1A025151,61.35,82.92,88.75,92.27,80.75,82.00,76.59
        G1A025152,61.35,89.58,100.00,90.47,82.36,80.00,78.67
        G1A025153,62.70,78.33,83.13,95.38,82.17,84.00,76.44
        G1A025154,62.65,85.83,91.25,93.13,80.89,88.00,78.42
        G1A025155,75.35,85.00,91.25,93.67,81.64,84.00,83.28
        G1A025156,56.00,82.92,88.75,88.75,81.83,85.00,73.95
        G1A025157,60.00,84.17,86.25,83.83,80.26,89.00,74.69
        G1A025159,64.65,71.67,95.00,97.11,78.94,65.00,76.31
        G1A025160,74.70,87.08,88.13,98.06,83.67,97.00,84.75
        G1A025161,55.30,89.38,75.42,80.23,75.72,78.00,71.27
        G1A025162,26.65,18.75,0.00,78.52,69.67,0.00,33.60
        G1A025163,71.35,89.58,100.00,81.45,74.00,70.00,79.95
        G1A025164,56.00,83.75,94.38,84.39,80.00,73.00,73.12
        G1A025165,76.00,90.63,93.33,94.19,81.14,88.00,85.15
        G1A025166,62.65,89.58,100.00,90.39,82.36,81.00,79.22
        G1A025167,46.00,81.67,75.00,91.72,76.44,72.00,68.00
        G1A025168,66.65,86.25,91.88,88.58,82.06,90.00,79.42
        G1A025169,57.30,89.58,62.50,90.47,81.26,78.00,73.14
        G1A025170,48.00,80.42,88.13,85.47,80.47,90.00,69.71
        G1A025171,56.00,83.75,85.63,89.30,80.71,67.00,72.96
        G1A025172,56.00,77.08,77.50,94.06,75.64,72.00,71.76
        G1A025173,66.00,83.75,94.38,95.03,83.33,82.00,79.86
        G1A025174,66.65,82.92,82.50,80.24,78.00,70.00,74.94
        G1A025175,58.00,85.00,83.13,85.10,78.00,73.00,73.08
        G1A025176,67.30,86.25,88.75,86.97,80.57,90.00,78.97
        `;

        // 3. Parser Logic
        let processedData = [];
        
        rawComponentData.trim().split('\n').forEach(line => {
            const parts = line.trim().split(',');
            if(parts.length >= 8) {
                const nim = parts[0].trim();
                const total = parseFloat(parts[7]);
                const grade = total >= 80 ? 'A' : (total >= 70 ? 'B' : (total >= 60 ? 'C' : (total >= 50 ? 'D' : 'E')));
                
                processedData.push({
                    nim: nim,
                    name: nameMap[nim] || nim,
                    mcq: parseFloat(parts[1]) || 0,
                    artikel: parseFloat(parts[2]) || 0,
                    komunikasi: parseFloat(parts[3]) || 0,
                    project: parseFloat(parts[4]) || 0,
                    sikap: parseFloat(parts[5]) || 0,
                    refleksi: parseFloat(parts[6]) || 0,
                    na: total,
                    grade: grade
                });
            }
        });

        // 4. Sort & Rank
        processedData.sort((a, b) => b.na - a.na);

        processedData.forEach((student, index) => {
            if (index > 0 && processedData[index].na === processedData[index - 1].na) {
                student.rank = processedData[index - 1].rank;
            } else {
                student.rank = index + 1;
            }
        });

        // Update Stats
        const avgScore = processedData.reduce((a, b) => a + b.na, 0) / processedData.length;
        document.getElementById('stat-total').innerText = processedData.length;
        document.getElementById('stat-highest').innerText = processedData[0].na.toFixed(2);
        document.getElementById('stat-avg').innerText = avgScore.toFixed(2);

        // --- 5. LOGIC GELAR (TITLES/BADGES) ---
        const getTitles = (s) => {
            let titles = [];
            
            // Rank Titles
            if (s.rank === 1) titles.push({ text: "THE APEX PREDATOR", class: "bg-apex" });
            else if (s.rank <= 3) titles.push({ text: "PRODIGY", class: "bg-apex" });
            else if (s.rank <= 10) titles.push({ text: "ELITE", class: "bg-smart" });

            // Subject Titles (Adapted for Blok 1.1)
            if (s.mcq >= 85) titles.push({ text: "Theory Master", class: "bg-ace" });
            if (s.artikel >= 90) titles.push({ text: "Critical Writer", class: "bg-ace" });
            if (s.komunikasi >= 90) titles.push({ text: "Communicator", class: "bg-ace" });
            if (s.project >= 90) titles.push({ text: "Project Lead", class: "bg-genius" });
            if (s.sikap >= 85) titles.push({ text: "Role Model", class: "bg-genius" });
            if (s.refleksi >= 90) titles.push({ text: "Reflective Mind", class: "bg-genius" });
            
            return titles;
        }

        // --- 6. RENDERING ---
        const podiumContainer = document.getElementById('podium-container');
        const gridContainer = document.getElementById('student-grid');

        function renderAll() {
            // Separate Top 3
            const top3 = processedData.slice(0, 3);
            // Reorder for Podium: 2nd, 1st, 3rd
            const podiumOrder = [top3[1], top3[0], top3[2]]; 
            
            let podiumHTML = `<div class="flex flex-col md:flex-row justify-center items-end gap-4">`;
            
            podiumOrder.forEach((s, i) => {
                const isFirst = i === 1;
                const podiumClass = isFirst ? 'podium-1' : (i === 0 ? 'podium-2' : 'podium-3');
                const medal = isFirst ? 'ðŸ¥‡' : (i === 0 ? 'ðŸ¥ˆ' : 'ðŸ¥‰');
                const titles = getTitles(s);

                podiumHTML += `
                <div onclick="openModal('${s.nim}')" class="glass-card ${podiumClass} w-full md:w-1/3 rounded-2xl p-6 flex flex-col items-center justify-center relative hover:bg-white/10 transition-all cursor-pointer">
                    <div class="absolute -top-6 text-4xl shadow-xl rounded-full bg-slate-800 p-2 border border-slate-600 shadow-cyan-500/20">${medal}</div>
                    <div class="mt-4 text-center">
                        <div class="text-[10px] font-bold text-cyan-200/50 mb-1 tracking-widest uppercase">Rank ${s.rank}</div>
                        <h3 class="text-xl font-bold text-white leading-tight mb-1 line-clamp-1">${s.name}</h3>
                        <p class="text-xs text-slate-400 font-mono mb-3">${s.nim}</p>
                        <div class="text-5xl font-black text-transparent bg-clip-text bg-gradient-to-b from-white to-slate-400 mb-2">${s.na.toFixed(2)}</div>
                        <div class="flex flex-wrap justify-center gap-1">
                            ${titles.map(t => `<span class="badge-title ${t.class}">${t.text}</span>`).join('')}
                        </div>
                    </div>
                </div>`;
            });
            podiumHTML += `</div>`;
            podiumContainer.innerHTML = podiumHTML;

            // Render Rest
            const rest = processedData.slice(3);
            let gridHTML = '';
            rest.forEach(s => {
                const titles = getTitles(s);
                const gradeColor = s.grade === 'A' ? 'text-emerald-400' : (s.grade === 'B' ? 'text-cyan-400' : (s.grade === 'C' ? 'text-violet-400' : 'text-red-400'));
                
                gridHTML += `
                <div onclick="openModal('${s.nim}')" class="glass-card rounded-xl p-5 relative overflow-hidden group hover:border-cyan-500/40">
                    <div class="absolute top-0 right-0 p-3 opacity-10 text-6xl font-black group-hover:opacity-20 transition-opacity text-white">#${s.rank}</div>
                    <div class="flex justify-between items-start mb-3">
                        <div class="pr-8">
                            <h4 class="font-bold text-slate-100 text-lg line-clamp-1 group-hover:text-cyan-300 transition-colors">${s.name}</h4>
                            <p class="text-xs text-slate-400 font-mono">${s.nim}</p>
                        </div>
                    </div>
                    
                    <div class="flex justify-between items-end">
                        <div>
                            <span class="text-[10px] text-slate-500 uppercase block tracking-wider">Total Score</span>
                            <span class="text-3xl font-bold text-white">${s.na.toFixed(2)}</span>
                        </div>
                        <div class="text-right">
                            <span class="text-[10px] text-slate-500 uppercase block tracking-wider">Grade</span>
                            <span class="text-2xl font-bold ${gradeColor}">${s.grade}</span>
                        </div>
                    </div>

                    <div class="mt-4 pt-3 border-t border-white/5 flex flex-wrap gap-1 min-h-[2rem]">
                         ${titles.length > 0 ? titles.map(t => `<span class="badge-title ${t.class}">${t.text}</span>`).join('') : '<span class="text-[10px] text-slate-600 italic">No specific titles earned</span>'}
                    </div>
                </div>`;
            });
            gridContainer.innerHTML = gridHTML;
        }

        // --- 7. MODAL & CHART ---
        const modal = document.getElementById('modal');
        let chartInstance = null;

        window.openModal = (nim) => {
            const s = processedData.find(st => st.nim === nim);
            if(!s) return;

            document.getElementById('modal-name').innerText = s.name;
            document.getElementById('modal-nim').innerText = s.nim;
            document.getElementById('modal-na').innerText = s.na.toFixed(2);
            document.getElementById('modal-grade').innerText = s.grade;
            document.getElementById('modal-rank-badge').innerText = `RANK #${s.rank}`;
            
            // Titles in Modal
            const titles = getTitles(s);
            document.getElementById('modal-titles').innerHTML = titles.map(t => `<span class="px-3 py-1 rounded-full text-[10px] font-bold border ${t.class}">${t.text}</span>`).join('');

            modal.classList.add('show');

            // Chart
            const ctx = document.getElementById('spiderwebChart').getContext('2d');
            if (chartInstance) chartInstance.destroy();

            chartInstance = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['MCQ', 'Artikel', 'Komunikasi', 'Project', 'Sikap', 'Refleksi'],
                    datasets: [{
                        label: 'Score',
                        data: [s.mcq, s.artikel, s.komunikasi, s.project, s.sikap, s.refleksi],
                        // Updated Chart Colors for Aurora Theme
                        backgroundColor: 'rgba(34, 211, 238, 0.25)', // Cyan transparent
                        borderColor: '#22d3ee', // Cyan Solid
                        pointBackgroundColor: '#0f172a', // Dark Navy
                        pointBorderColor: '#34d399', // Emerald Border
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#a78bfa', // Violet Hover
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: { color: 'rgba(255, 255, 255, 0.05)' },
                            grid: { color: 'rgba(255, 255, 255, 0.05)' },
                            pointLabels: { color: '#94a3b8', font: {size: 11, family: 'Poppins'} },
                            ticks: { display: false, backdropColor: 'transparent', max: 100 },
                            suggestedMin: 0,
                            suggestedMax: 100
                        }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        };

        window.closeModal = () => {
            modal.classList.remove('show');
        };

        // --- 8. SEARCH ---
        document.getElementById('searchInput').addEventListener('keyup', (e) => {
            const term = e.target.value.toLowerCase();
            const cards = document.querySelectorAll('#student-grid .glass-card');
            let found = false;

            cards.forEach(card => {
                const text = card.innerText.toLowerCase();
                if(text.includes(term)) {
                    card.style.display = "block";
                    found = true;
                } else {
                    card.style.display = "none";
                }
            });
            document.getElementById('not-found').style.display = found ? 'none' : 'block';
        });

        // Initialize
        renderAll();

    </script>
</body>
</html>
